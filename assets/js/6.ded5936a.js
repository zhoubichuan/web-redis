(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{265:function(s,e,a){s.exports=a.p+"assets/img/6.a2633ea6.jpg"},274:function(s,e,a){"use strict";a.r(e);var t=a(13),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-redis-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-redis-简介"}},[s._v("#")]),s._v(" 1.Redis 简介")]),s._v(" "),t("p",[s._v("Redis 是完全开源免费的，遵守 BSD 协议，是一个高性能的 key-value 数据库。")]),s._v(" "),t("h2",{attrs:{id:"_2-redis-优势"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-redis-优势"}},[s._v("#")]),s._v(" 2.Redis 优势")]),s._v(" "),t("ul",[t("li",[s._v("性能极高-Redis 能读的速度是 110000 次/s,写的速度是 81000 次/s。")])]),s._v(" "),t("ul",[t("li",[s._v("丰富的数据类型 -Redis 支持二进制的字符串、列表、哈希值、集合和有序集合等数据类型操作。")]),s._v(" "),t("li",[s._v("原子性-Redis 的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。")]),s._v(" "),t("li",[s._v("单个操作使原子性的。多个操作也支持事务，即原子性，通过 MULTI 和 EXEC 指令包起来。")]),s._v(" "),t("li",[s._v("丰富的特性-Redis 还支持 发布/订阅，通知，key 过期等等特性。")])]),s._v(" "),t("h2",{attrs:{id:"_3-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装"}},[s._v("#")]),s._v(" 3.安装")]),s._v(" "),t("h3",{attrs:{id:"_3-1-window-下安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-window-下安装"}},[s._v("#")]),s._v(" 3.1 Window 下安装")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/ServiceStack/redis-windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis-windows"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/ServiceStack/redis-windows/raw/master/downloads/redis-latest.zip",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis 服务端下载"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://redisdesktop.com/download",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis 客户端下载"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis 官网"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"http://www.redis.cn/documentation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis 中文网"),t("OutboundLink")],1),s._v("\n进入数据库文件夹打开 cmd")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("redis-server.exe redis.windows.conf\nredis-cli.exe -h 127.0.0.1 -p 6379\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_3-2-mac-下安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-mac-下安装"}},[s._v("#")]),s._v(" 3.2 Mac 下安装")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("brew install redis\nbrew services start redis\nredis-server /usr/local/etc/redis.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-3-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-配置"}},[s._v("#")]),s._v(" 3.3 配置")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CONFIG GET CONFIG_SETTING_NAME\nCONFIG GET port\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_4-数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-数据类型"}},[s._v("#")]),s._v(" 4.数据类型")]),s._v(" "),t("ul",[t("li",[s._v("字符串")]),s._v(" "),t("li",[s._v("哈希值")]),s._v(" "),t("li",[s._v("链表")]),s._v(" "),t("li",[s._v("集合")]),s._v(" "),t("li",[s._v("有序列表")])]),s._v(" "),t("h3",{attrs:{id:"_4-1-字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-字符串"}},[s._v("#")]),s._v(" 4.1 字符串")]),s._v(" "),t("p",[s._v("字符串是最基本的类型，一个 key 对应一个 value")]),s._v(" "),t("h4",{attrs:{id:"_4-1-1-set-设置值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-set-设置值"}},[s._v("#")]),s._v(" 4.1.1 SET 设置值")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET name zfpx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-1-2-获取值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-获取值"}},[s._v("#")]),s._v(" 4.1.2 获取值")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GET name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-1-3-getrange-获取子串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-getrange-获取子串"}},[s._v("#")]),s._v(" 4.1.3 GETRANGE 获取子串")]),s._v(" "),t("p",[s._v("GETRANGE [key][start end]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('getrange name 1 2 //"fp"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-1-4-incr-incrby-递增"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-4-incr-incrby-递增"}},[s._v("#")]),s._v(" 4.1.4 INCR INCRBY 递增")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET age 1\nINCR age\nINCRBY age 6\nDECR age\nDECRBY age 9\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"_4-1-5-键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-5-键"}},[s._v("#")]),s._v(" 4.1.5 键")]),s._v(" "),t("p",[s._v("删除 key")]),s._v(" "),t("p",[s._v("DEL [key]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DEL user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("判断一个 key 是否存在")]),s._v(" "),t("p",[s._v("EXISTS key")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("EXISTS user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("设置过期时间")]),s._v(" "),t("p",[s._v("EXPIRE [key][seconds]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("EXPIRE user 10\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("以秒为单位返回给定 key 的剩余生存时间")]),s._v(" "),t("p",[s._v("TTL [key]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("TTL user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("返回 key 所储存的值的类型")]),s._v(" "),t("p",[s._v("TYPE [key]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("TYPE user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-2-哈希值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-哈希值"}},[s._v("#")]),s._v(" 4.2 哈希值")]),s._v(" "),t("p",[s._v("哈希值是一个字符串类型的 key 和值的映射表，特别适合用于存储对象。")]),s._v(" "),t("h4",{attrs:{id:"_4-2-1-hset-hmset-设置值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-hset-hmset-设置值"}},[s._v("#")]),s._v(" 4.2.1 HSET HMSET 设置值")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("HSET person name //设置单个值\nHMSET user name 'zfpx' age 9//设置多个值\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-2-2-hget-hgetall-获取值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-hget-hgetall-获取值"}},[s._v("#")]),s._v(" 4.2.2 HGET HGETALL 获取值")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("HGET user name //获取单个值\nHMGET user name age//获取多个值\nHGETALL user //获取所有值\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"_4-2-3-hdel-key-field-删除键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-hdel-key-field-删除键"}},[s._v("#")]),s._v(" 4.2.3 HDEL key field 删除键")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("HDEL user name //删除单个值\nHEDLALL user//删除所有值\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-2-4-hkeys-获取所有的-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-hkeys-获取所有的-keys"}},[s._v("#")]),s._v(" 4.2.4 HKEYS 获取所有的 KEYS")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("HKEYS user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-3-列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-列表"}},[s._v("#")]),s._v(" 4.3 列表")]),s._v(" "),t("p",[s._v("列表是简单的字符串列表，安装插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。")]),s._v(" "),t("h4",{attrs:{id:"_4-3-1-lpush-rpush-添加元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-lpush-rpush-添加元素"}},[s._v("#")]),s._v(" 4.3.1 LPUSH RPUSH 添加元素")]),s._v(" "),t("p",[s._v("返回列表的长度")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LPUSH ids 2\nLPUSH ids 1\nRPUSH ids 3\nRPUSH ids 4\nRPUSH ids 5 6\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"_4-3-2-lrange-查看元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-lrange-查看元素"}},[s._v("#")]),s._v(" 4.3.2 LRANGE 查看元素")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LRANGE ids 0 -2\nLRANGE ids 0 -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-3-3-lpop-rpop-弹出元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-lpop-rpop-弹出元素"}},[s._v("#")]),s._v(" 4.3.3 LPOP RPOP 弹出元素")]),s._v(" "),t("p",[s._v("查看并删除")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LPOP ids\nRPOP ids\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-3-4-lindex-ids-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-4-lindex-ids-1"}},[s._v("#")]),s._v(" 4.3.4 LINDEX ids 1")]),s._v(" "),t("p",[s._v("通过索引获取列表中的元素")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LINDEX ids 0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-3-5-llen-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-llen-key"}},[s._v("#")]),s._v(" 4.3.5 LLEN key")]),s._v(" "),t("p",[s._v("获取列表长度")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LLEN ids\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-3-6-lrem-key-count-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-6-lrem-key-count-value"}},[s._v("#")]),s._v(" 4.3.6 LREM key count value")]),s._v(" "),t("p",[s._v("移除列表元素")]),s._v(" "),t("ul",[t("li",[s._v("count >0:表示开始向表尾搜索，移除与 VALUE 相等的元素，数量为 COUNT.")]),s._v(" "),t("li",[s._v("count<0:从表尾开始向表头搜索，移除与 VALUE 相等的元素，数量为 COUNT 的绝对值。")]),s._v(" "),t("li",[s._v("count=0：移除表中所有与 VALUE 相等的值。")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LERM ids count value\nlpush my 1\nlpush my 2\nlpush my 3\nlpush my 3\nlrange my 0 -1\nlrem my  2 2\nlrange my 0 -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"_4-4-集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-集合"}},[s._v("#")]),s._v(" 4.4 集合")]),s._v(" "),t("p",[s._v("集合是字符串类型的无序集合")]),s._v(" "),t("h4",{attrs:{id:"_4-4-1-sadd-添加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-sadd-添加"}},[s._v("#")]),s._v(" 4.4.1 SADD 添加")]),s._v(" "),t("p",[s._v("如果集合中已经存在指定的元素则返归 0；如果不存在则添加成功返回 1")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SADD tags 1\nSADD tags 2\nSADD tags 3\nSADD tags 4 5 6\nSMEMBERS tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"_4-4-2-smembers-查看集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-smembers-查看集合"}},[s._v("#")]),s._v(" 4.4.2 SMEMBERS 查看集合")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SMEMBERS tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-4-3-scard-获取集合元素个数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-scard-获取集合元素个数"}},[s._v("#")]),s._v(" 4.4.3 SCARD 获取集合元素个数")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SCARD tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4-4-4srem-删除元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-4srem-删除元素"}},[s._v("#")]),s._v(" 4.4.4SREM 删除元素")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SREM tags member\nSREM tags 4\nSMEMBERS tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"_4-4-5-集合运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-集合运算"}},[s._v("#")]),s._v(" 4.4.5 集合运算")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SREM tags member\nSREM tags 4\nSMEMBERS tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"_4-4-5-集合运算-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-集合运算-2"}},[s._v("#")]),s._v(" 4.4.5 集合运算")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SADD A 1 2 3\nSADD B 2 3 4\nSINTER A B //交集\nSDIFF A B //差集\nSUNION A B //并集\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_4-5-有序集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-有序集合"}},[s._v("#")]),s._v(" 4.5 有序集合")]),s._v(" "),t("p",[s._v("有序集合和集合一样也是字符串的集合，而且不能重复 不同之处是每个集合都会关联一个 double 类型的分类，redis 可以通过这个分类来为集合中的元素进行从小到大排序，元素不能重复，但分数可以重复。")]),s._v(" "),t("h4",{attrs:{id:"_4-5-1-zadd-添加元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-1-zadd-添加元素"}},[s._v("#")]),s._v(" 4.5.1 ZADD 添加元素")]),s._v(" "),t("p",[s._v("ZADD key score1 member1 [score2 member2]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ZADD levels 1 one\nZADD levels 2 two\nZADD levels 3 three\nZADD levels 4 four\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"_4-5-2zcard-获取有序集合的成员数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-2zcard-获取有序集合的成员数"}},[s._v("#")]),s._v(" 4.5.2ZCARD 获取有序集合的成员数")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ZCARD key\nZCARD levels\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-5-3-zrange-查看有序集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-3-zrange-查看有序集合"}},[s._v("#")]),s._v(" 4.5.3 ZRANGE 查看有序集合")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ZRANGE levels 0 -1 //按范围查看\nZRANGE levels 0 2 WITHSCORES //按范围查看，并显示分数\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4-5-4zrem-移除有序集合中的一个或多个成员"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-4zrem-移除有序集合中的一个或多个成员"}},[s._v("#")]),s._v(" 4.5.4ZREM 移除有序集合中的一个或多个成员")]),s._v(" "),t("p",[s._v("ZREM key member [member ...]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ZADD levels 1 one\nZADD levels 2 two\nZREM levels one\nZRANGE levels 0 -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"node-js-中使用-redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-js-中使用-redis"}},[s._v("#")]),s._v(" Node.js 中使用 redis")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const redis = require('redis');\nlet client=redis.createClient(6379,'127.0.0.1');\nclient.on('error',function(error){\n    console.log(error)\n})\n// 1.字符串类型\nclient.set('name','zfpx',redis.print)\nclient.get('name',redis.print)\n//2.集合\nclient.hset('user','name','zfpx',redis.print)\nclient.hset('user','age','8',redis.print)\nclient.hget('user','age',redis.print)\nclient.hkeys('user',function(err,replies){\n    replies.forEach(fucntion(item,index,items){\n        client.hget('user',item,redis.print)\n    })\n})\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"_6-redis-发布订阅"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-redis-发布订阅"}},[s._v("#")]),s._v(" 6.Redis 发布订阅")]),s._v(" "),t("p",[s._v("Redis 发布订阅是一种消息通信模式：发送者发送消息，订阅者接收消息，客户端可以订阅任意数量的频道。\n"),t("img",{attrs:{src:a(265),alt:""}})]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SUBSCRIBE chat\nPUBLISH chat zfpx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("let client1=redis.createClient(6379,'127.0.0.1')\nlet client2=redis.createClient(6379,'127.0.0.1')\nlet count=0\nclient1.subscribe('food')\nclient1.subscribe('drink')\nclient1.on('message',fucntion(channel,message){\n    console.log(channel,message)\n    client1.unsubscribe('food')\n})\nclient2.publish('food','面包')\nclient2.publish('drink','桔汁')\nsetTimeout(()=>{\n    client2.publish('food','面包2')\n    client2.publish('drink','桔汁2')\n}，2000)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h2",{attrs:{id:"_7-redis-事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-redis-事务"}},[s._v("#")]),s._v(" 7.Redis 事务")]),s._v(" "),t("p",[s._v("Redis 事务可以一次执行多个命令")]),s._v(" "),t("ul",[t("li",[s._v("多个命令可以在执行 EXEC 命令之前放入缓存队列")]),s._v(" "),t("li",[s._v("收到 EXEC 命令后会将缓存队列执行")]),s._v(" "),t("li",[s._v("在执行事务的过程中，新提交的并不能被插入到事务执行序列中")]),s._v(" "),t("li",[s._v("DISCARD 可以取消事务，放弃执行事务块内的所有命令")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("MULTI\nSET account1 1\nSET account2 3\nEXEC\nGET account1\nGET account2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("单个 Redis 命令的执行是原子性的，但 Redis 没有在事务上增加任何维持原子性的机制，所以 Redis 事务的执行并不是原子性的")]),s._v(" "),t("li",[s._v("事务可以理解为一个大包的批量执行脚本，但批量指令并非原子化的操作，中间某条指令的失败不会导致前面已做指令的回滚，也不会造成后续的指令不做")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("let redis=require('redis')\nlet client=redis.createClient(639,'127.0.0.1')\nclient.multi().hset('user2','zfpx2').hset('user2','age2','92').exec(redis.print)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_8-备份与恢复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-备份与恢复"}},[s._v("#")]),s._v(" 8.备份与恢复")]),s._v(" "),t("h3",{attrs:{id:"_8-1-备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-备份"}},[s._v("#")]),s._v(" 8.1 备份")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SAVE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("该命令将在 redis 安装目录中创建 dump.rdb 文件")]),s._v(" "),t("h3",{attrs:{id:"_8-2-恢复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-恢复"}},[s._v("#")]),s._v(" 8.2 恢复")]),s._v(" "),t("p",[s._v("将备份文件（dump.rdb）移动到 redis 安装目录并启动服务")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CONFIG GET dir\nBGSAVE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_9-安全"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-安全"}},[s._v("#")]),s._v(" 9.安全")]),s._v(" "),t("p",[s._v("可以通过 redis 的配置文件设置密码参数，这样客户端连接到 redis 服务就需要密码验证，这样可以让你的 redis 服务更安全。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CONFIG get requirepass\nCONFIG ser requierpass 'zfpx'\nCONFIG get requirepass\nAUTH zfpx\nCONFIG get requirepass\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);